<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>impatient | Platform.sh documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../use-platform/going-live.html" />
    
    
    <link rel="prev" href="../use-platform/backup-and-restore.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    <div class="book" data-level="3.2" data-basepath=".." data-revision="Wed May 27 2015 11:05:09 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        README
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="overview/index.html">
            
                
                    <a href="../overview/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        overview
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="overview/what-is-platform.html">
            
                
                    <a href="../overview/what-is-platform.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        platform
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="overview/technical-requirements.html">
            
                
                    <a href="../overview/technical-requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        requirements
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="overview/getting-help.html">
            
                
                    <a href="../overview/getting-help.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        help
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="overview/platform-actions.html">
            
                
                    <a href="../overview/platform-actions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        actions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="overview/platform-cli.html">
            
                
                    <a href="../overview/platform-cli.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        cli
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="overview/platform-environments.html">
            
                
                    <a href="../overview/platform-environments.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                        environments
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="overview/platform-web-ui.html">
            
                
                    <a href="../overview/platform-web-ui.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        ui
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="toolstacks/index.html">
            
                
                    <a href="../toolstacks/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        toolstacks
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="toolstacks/php/index.html">
            
                
                    <a href="../toolstacks/php/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        php
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="toolstacks/php/php-configuration.html">
            
                
                    <a href="../toolstacks/php/php-configuration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        configuration
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="toolstacks/php/drupal/index.html">
            
                
                    <a href="../toolstacks/php/drupal/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                        drupal
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1.1" data-path="toolstacks/php/drupal/cache.html">
            
                
                    <a href="../toolstacks/php/drupal/cache.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.1.</b>
                        
                        cache
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.2" data-path="toolstacks/php/drupal/customizing-settings-php.html">
            
                
                    <a href="../toolstacks/php/drupal/customizing-settings-php.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.2.</b>
                        
                        php
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.3" data-path="toolstacks/php/drupal/developing-with-drupal.html">
            
                
                    <a href="../toolstacks/php/drupal/developing-with-drupal.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.3.</b>
                        
                        drupal
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.4" data-path="toolstacks/php/drupal/drush.html">
            
                
                    <a href="../toolstacks/php/drupal/drush.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.4.</b>
                        
                        drush
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.5" data-path="toolstacks/php/drupal/faq.html">
            
                
                    <a href="../toolstacks/php/drupal/faq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.5.</b>
                        
                        faq
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.6" data-path="toolstacks/php/drupal/getting-started.html">
            
                
                    <a href="../toolstacks/php/drupal/getting-started.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.6.</b>
                        
                        started
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.7" data-path="toolstacks/php/drupal/migrate-existing-site.html">
            
                
                    <a href="../toolstacks/php/drupal/migrate-existing-site.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.7.</b>
                        
                        migrate-existing-site
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.8" data-path="toolstacks/php/drupal/redis.html">
            
                
                    <a href="../toolstacks/php/drupal/redis.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.8.</b>
                        
                        redis
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.1.9" data-path="toolstacks/php/drupal/solr.html">
            
                
                    <a href="../toolstacks/php/drupal/solr.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.9.</b>
                        
                        solr
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="toolstacks/php/symfony/index.html">
            
            <span><b>2.2.2.</b> symfony</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.2.1" data-path="toolstacks/php/symfony/faq.html">
            
                
                    <a href="../toolstacks/php/symfony/faq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.2.1.</b>
                        
                        faq
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.2.2" data-path="toolstacks/php/symfony/getting-started.html">
            
                
                    <a href="../toolstacks/php/symfony/getting-started.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.2.2.</b>
                        
                        started
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2.2.3" data-path="toolstacks/php/symfony/migrate-existing-site.html">
            
                
                    <a href="../toolstacks/php/symfony/migrate-existing-site.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.2.3.</b>
                        
                        migrate-existing-site
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="use-platform/index.html">
            
                
                    <a href="../use-platform/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        use-platform
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="use-platform/backup-and-restore.html">
            
                
                    <a href="../use-platform/backup-and-restore.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        restore
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3.2" data-path="use-platform/getting-started-for-the-impatient.html">
            
                
                    <a href="../use-platform/getting-started-for-the-impatient.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        impatient
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="use-platform/going-live.html">
            
                
                    <a href="../use-platform/going-live.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        live
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="use-platform/install-the-platform.sh-software-bundle.html">
            
                
                    <a href="../use-platform/install-the-platform.sh-software-bundle.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        bundle
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="use-platform/private-repository.html">
            
                
                    <a href="../use-platform/private-repository.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        repository
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="use-platform/set-up-local-development.html">
            
                
                    <a href="../use-platform/set-up-local-development.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        development
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="use-platform/use-SSH.html">
            
                
                    <a href="../use-platform/use-SSH.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        SSH
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="use-platform/user-administration.html">
            
                
                    <a href="../use-platform/user-administration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        administration
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="web-ui/index.html">
            
                
                    <a href="../web-ui/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        web-ui
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="web-ui/configure-environment.html">
            
                
                    <a href="../web-ui/configure-environment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        environment
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="web-ui/configure-project.html">
            
                
                    <a href="../web-ui/configure-project.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        project
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="web-ui/overview.html">
            
                
                    <a href="../web-ui/overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        overview
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="cli/index.html">
            
                
                    <a href="../cli/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        cli
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="cli/cli.html">
            
                
                    <a href="../cli/cli.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        cli
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="reference/index.html">
            
                
                    <a href="../reference/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        reference
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="reference/architecture.html">
            
                
                    <a href="../reference/architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        architecture
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="reference/cache.html">
            
                
                    <a href="../reference/cache.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        cache
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="reference/configuration-files.html">
            
                
                    <a href="../reference/configuration-files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        files
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="reference/environment-variables.html">
            
                
                    <a href="../reference/environment-variables.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        variables
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="reference/known-issues.html">
            
                
                    <a href="../reference/known-issues.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        issues
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="reference/public-ip-addresses.html">
            
                
                    <a href="../reference/public-ip-addresses.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        addresses
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="reference/rest-api.html">
            
                
                    <a href="../reference/rest-api.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        api
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="reference/service-grid.html">
            
                
                    <a href="../reference/service-grid.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        grid
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="reference/upgrade.html">
            
                
                    <a href="../reference/upgrade.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                        upgrade
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="integration/index.html">
            
                
                    <a href="../integration/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        integration
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="integration/blackfire.html">
            
                
                    <a href="../integration/blackfire.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        blackfire
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="integration/webhooks.html">
            
                
                    <a href="../integration/webhooks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        webhooks
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="glossary.html">
            
                
                    <a href="../glossary.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        glossary
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="protective-block.html">
            
                
                    <a href="../protective-block.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        block
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Platform.sh documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="getting-started-for-the-impatient">Getting started for the impatient</h1>
<p>Goals of this document:</p>
<ul>
<li>Getting started guide</li>
<li>Short overview of Platform.sh</li>
<li>Define the needed tools</li>
<li>Local setup (note the major versions of PHP and MariaDB)</li>
<li>Explain the ideal workflow with Platform.sh</li>
<li>Explain access rights</li>
<li>Drupal specific steps<ul>
<li>distribution</li>
<li>Drush make</li>
<li>vanilla</li>
<li>migrate existing project</li>
<li>custom code (modul, external repo - drush make)</li>
</ul>
</li>
</ul>
<p>What is Platform.sh? Platform.sh is a groundbreaking hosting and
development tool for web applications. It extends a branch-merge Git
workflow to infrastructure so that every branch has its own URL and can
be tested as if it were in production. Platform.sh architecture allows
it to scale for the largest sites.</p>
<p>Note: The environments used in Platform.sh are deployed on a read-only
filesystems and are rebuilt with every Git push.</p>
<h2 id="drupal">Drupal</h2>
<h2 id="how-to-set-up-your-local-drupal-development">How to set up your local Drupal development</h2>
<p>This guide will teach you how to set up local Drupal development for use
with Platform.sh.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>To succeed with Platform.sh you need the following installed on your
local machine:</p>
<h4 id="for-the-platform-sh-cli">For the Platform.sh CLI:</h4>
<ul>
<li><a href="https://help.github.com/articles/generating-ssh-keys/" target="_blank">id_rsa public/private
keypair</a></li>
<li><a href="http://git-scm.com/" target="_blank">Git</a></li>
<li><a href="https://getcomposer.org/" target="_blank">Composer</a></li>
<li><a href="https://github.com/platformsh/platformsh-cli" target="_blank">The Platform.sh CLI</a></li>
<li><a href="https://github.com/drush-ops/drush" target="_blank">Drush</a></li>
</ul>
<h4 id="for-your-drupal-stack">For your Drupal stack:</h4>
<ul>
<li><a href="http://nginx.org/" target="_blank">Nginx</a> (or Apache) web server</li>
<li><a href="https://mariadb.org/" target="_blank">MariaDB</a> (or MySQL) database</li>
<li>Optional: <a href="https://lucene.apache.org/solr/" target="_blank">Solr</a>,
<a href="http://redis.io/" target="_blank">Redis</a></li>
</ul>
<p>You will also need to have signed up for a
<a href="https://platform.sh" target="_blank">Platform.sh</a> project.</p>
<p>Platform.sh is currently running PHP 5.4, MySQL Ver 15.1 Distrib
5.5.40-MariaDB</p>
<h3 id="goals">Goals</h3>
<ol>
<li>Authenticate locally using the <a href="https://github.com/platformsh/platformsh-cli" target="_blank">Platform.sh
CLI</a></li>
<li>Upload your SSH public key</li>
<li>Use the <a href="https://github.com/platformsh/platformsh-cli" target="_blank">Platform.sh
CLI</a> to obtain and
build your project&#x2019;s repository</li>
<li>Understand Settings.php</li>
<li>Understand Build Modes</li>
<li>Connect to your local database</li>
<li>Use your Drush aliases</li>
<li>Synchronize databases and files with Platform.sh</li>
</ol>
<h3 id="authenticate-locally-using-the-platform-sh-cli">Authenticate locally using the Platform.sh CLI</h3>
<p>The <a href="https://github.com/platformsh/platformsh-cli" target="_blank">Platform.sh CLI</a> will
authenticate you with Platform.sh and show your projects. Just type this
command to start:</p>
<p>``` {.sourceCode .console}
platform</p>
<pre><code>
The credentials you enter are the same for your account on [Commerce
Guys&apos; Marketplace](https://marketplace.commerceguys.com/user).

### Upload your SSH public key

You need an [id\_rsa public/private
keypair](https://help.github.com/articles/generating-ssh-keys/) to use
Platform.sh.

#### Upload using the Web UI

To upload the public key in the browser go to [your user
account](https://marketplace.commerceguys.com/user) and click the
SSH Keys tab. Name your key in the *Title* field, and paste the public
key into the *Key* field. Your key will typically be found at
`~/.ssh/id_rsa.pub` on Linux and Mac OS X machines.

![Screenshot of a public key field](images/edit-ssh.png)

#### Upload using Platform.sh CLI

Alternately, you can upload your SSH key using the Platform.sh CLI
itself.

``` {.sourceCode .console}
platform ssh-key:add ~/.ssh/id_rsa.pub
</code></pre><h3 id="use-the-platform-sh-cli-to-obtain-and-build-your-project%E2%80%99s-repository">Use the Platform.sh CLI to obtain and build your project&#x2019;s repository</h3>
<p>The <code>platform</code> command will show you a list of your projects.</p>
<p>``` {.sourceCode .console}
$ platform
Welcome to Platform.sh!
Your projects are:
+---------------+-------------------------------------+-------------------------------------------------+
| ID            | Name                                | URL                                             |
+---------------+-------------------------------------+-------------------------------------------------+
| [PROJECT-ID] | My Drupal Site                      | <a href="https://[REGION].platform.sh//#/projects/[PROJECT-ID" target="_blank">https://[REGION].platform.sh//#/projects/[PROJECT-ID</a>] |
| [PROJECT-ID] | A Symfony Project                   | <a href="https://[REGION].platform.sh/#/projects/[PROJECT-ID" target="_blank">https://[REGION].platform.sh/#/projects/[PROJECT-ID</a>] |</p>
<pre><code>
You can obtain a local copy of the project using the `platform get`
command:

``` {.sourceCode .console}
platform get [PROJECT-ID]
</code></pre><p>Now you can see the local directory structure that the Platform CLI
provides for your local development:</p>
<p>``` {.sourceCode .console}
$ ls -1
builds     # Contains all builds of your projects
repository # Checkout of the Git repository
shared     # Your files directory, and your settings.local.php file
www        # A symlink that always references the latest build.</p>
<pre><code>       # This should be the document root for your local web server
</code></pre><pre><code>
The `builds` directory contains every build of your project. This is
relevant when you use Drush Make files to assist in your site building.

The `repository` directory is your local checkout of the Platform.sh Git
repository. This is where you edit code and issue normal Git commands,
like `git pull`, `git add`, `git commit`, and `git push`.

The `shared` directory is for your settings.local.php file which stores
the connection details to your local database.

See the section below about Settings.php for a full explanation of the
settings.local.php file.

The `www` symlink is created by the `platform build` command and will
always reference the latest build in the builds directory. The `www`
directory should become your DOCROOT for local development.

### Understand Settings.php

Drupal sites use a file called settings.php to store database connection
details and other important configurations. Platform.sh has a specific
concept for managing settings.php which is important to understand to
succeed. For both the local copy of your site, as well as on the server,
settings.php should be found at sites/default/settings.php, and should
be generated by Platform.sh. That means you will not be committing a
settings.php file to your Git repository in normal circumstances. Here
is the entire contents of a generated settings.php:

``` {.sourceCode .php}
</code></pre><blockquote>
<p>linenos</p>
<p>:   </p>
<p>\&lt;?php $update_free_access = FALSE;</p>
<p>$drupal_hash_salt = &apos;5vNH-JwuKOSlgzbJCL3FbXvNQNfd8Bz26SiadpFx6gE&apos;;</p>
<p>$local_settings = dirname(__FILE__) . &apos;/settings.local.php&apos;; if
(file_exists($local_settings)) { require_once($local_settings);
}</p>
</blockquote>
<p>The important part to see, starting in line 6, is the inclusion of
another file, <code>settings.local.php</code>, which will handle the actual
connection to the database, as well as the parsing of other important
environmental variables from Platform.sh.</p>
<h3 id="understand-build-modes">Understand Build Modes</h3>
<p>Platform.sh offers three build modes for Drupal projects: Vanilla, Drush
Make, and Install Profiles.</p>
<blockquote>
<p><strong>note</strong></p>
<p>You can change build modes by changing the files in your repository.
Platform.sh recognizes each mode based on the presence or absence of
<code>project.make</code> or <code>*.profile</code> files.</p>
</blockquote>
<h4 id="vanilla-build-mode">Vanilla build mode</h4>
<p>In <em>Vanilla mode</em> you simply commit all of Drupal&apos;s files directly into
the Git repository instead of using Drush Make.</p>
<p>In this mode, take care not to commit any database credentials to your
repository. The following lines should be present in your repository&apos;s
<code>.gitignore</code> file, which will guarantee that a settings.local.php file
won&apos;t get committed to Git:</p>
<p>``` {.sourceCode .text}</p>
<h1 id="ignore-configuration-files-that-may-contain-sensitive-information">Ignore configuration files that may contain sensitive information.</h1>
<p>sites/<em>/settings</em>.php</p>
<pre><code>
#### Drush Make build mode

Drush Make build mode looks for a `project.make` file which will get
executed during the build process.

The default `project.make` file for a Drupal 7 installation looks like
this:

``` {.sourceCode .console}
api = 2
core = 7.x

; Drupal core.
projects[drupal][type] = core
projects[drupal][version] = 7.32
projects[drupal][patch][] = &quot;https://drupal.org/files/issues/install-redirect-on-empty-database-728702-36.patch&quot;

; Platform indicator module.
projects[platform][version] = 1.3
projects[platform][subdir] = contrib
</code></pre><h4 id="install-profile-build-mode">Install Profile build mode</h4>
<p>If your project contains a profile file: <code>*.profile</code>, the Platform.sh
CLI builds your project in profile mode. This is similar to what
Drupal.org does to build distributions. Everything you have in your
repository will be copied to your <code>profiles/[name]</code> folder.</p>
<blockquote>
<p><strong>note</strong></p>
<p>It is a mistake to mix Vanilla mode with other modes. If you&apos;ve copied
all of the Drupal core files into your repository then you need to
make sure you don&apos;t have any <code>*.make` or</code>*.profile`` files.</p>
</blockquote>
<h4 id="database-credentials">Database credentials</h4>
<p>You need to add your local database credentials to a
<code>settings.local.php</code> file.</p>
<p>This will be stored in <code>sites/default/settings.local.php</code> in your local
Drupal site. However, if you have used the CLI to build your project,
then it&apos;s better to use <code>shared/settings.local.php</code> (inside the project
root). The CLI will have created this file for you, when you ran the
<code>platform get</code> or <code>platform build</code> command.</p>
<blockquote>
<p><strong>note</strong></p>
<p>If you are using the CLI but there is no shared/settings.local.php
file, re-run <code>platform build</code>.</p>
</blockquote>
<p>``` {.sourceCode .php}
&lt;?php
// Database configuration.
$databases[&apos;default&apos;][&apos;default&apos;] = array(
  &apos;driver&apos; =&gt; &apos;mysql&apos;,
  &apos;host&apos; =&gt; &apos;localhost&apos;,
  &apos;username&apos; =&gt; &apos;&apos;,
  &apos;password&apos; =&gt; &apos;&apos;,
  &apos;database&apos; =&gt; &apos;&apos;,
  &apos;prefix&apos; =&gt; &apos;&apos;,
);</p>
<pre><code>
&gt; **note**

&gt; You never have to add the server-side database credentials to
&gt; `settings.local.php`. Platform.sh generates a `settings.php` for each
&gt; environment, already containing the proper database credentials.

### Drush Aliases

The [Platform.sh CLI](https://github.com/platformsh/platformsh-cli)
generates and maintains Drush Aliases that allow you to issue remote
Drush commands on any environment (branch) that is running on
Platform.sh. There is also a Drush Alias for your local site.

To see your Drush Aliases, use the `platform drush-aliases` command:

``` {.sourceCode .console}
$ platform drush-aliases
Aliases for My Site (tqmd2kvitnoly):
    @tqmd2kvitnoly._local
    @tqmd2kvitnoly.master
    @tqmd2kvitnoly.staging
    @tqmd2kvitnoly.sprint1
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Run local Drush commands with <code>drush</code>. Run remote Drush commands with
<code>platform drush</code>. Any <code>platform drush</code> command will execute on the
remote environment that you currently have checked out.</p>
</blockquote>
<h4 id="change-the-drush-alias-group">Change the Drush Alias Group</h4>
<p>You can set the Drush alias group name to something more convenient:</p>
<p>``` {.sourceCode .console}
platform drush-aliases -g [alias group]</p>
<pre><code>
After that, they will be easier to remember and type.

``` {.sourceCode .console}
$ platform drush-aliases -g mysite
Project aliases created, group: @mysite
Delete old alias group @tqmd2kvitnoly? [Y/n] Y
Aliases for My Site (tqmd2kvitnoly):
    @mysite._local
    @mysite.master
    @mysite.staging
    @mysite.sprint1
</code></pre><h3 id="synchronize-databases-and-files-with-the-platform-cli">Synchronize Databases and Files with the Platform CLI</h3>
<p>Given the Drush aliases shown above, you can now use a normal Drush
command to synchronize my local database with the data from my Master
environment online:</p>
<p>``` {.sourceCode .console}
$ drush sql-sync @mysite.master @mysite._local</p>
<pre><code>
In the same style, use Drush to grab the uploaded files from the files
directory and pull them into your local environment:

``` {.sourceCode .console}
$ drush rsync @mysite.staging:%files @mysite._local:%files
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Never commit the files that are in your <code>files</code> directory to the Git
repository. Git is only meant for code, not <em>data</em>, and files that are
managed by your Drupal site are considered data.</p>
</blockquote>
<h4 id="sql-sync-troubleshootings">SQL-sync troubleshootings</h4>
<p>Drush 7 has problems with SQL-syncing Drupal 7 sites. If you see error
below:</p>
<p>``` {.sourceCode .console}
Starting to dump database on Source. [ok]
Directory /app exists, but is not writable. Please check directory permissions. [error]
Unable to create backup directory /app/drush-backups/main. [error]
Database dump saved to /tmp/main_20150206_091052.sql.gz [success]
sql-dump failed.</p>
<pre><code>
Than you should downgrade to Drush version 6.\* to make sql-sync works:

``` {.sourceCode .console}
$ composer global require &apos;drush/drush:6.*&apos;
</code></pre><h3 id="ide-specific-tips">IDE Specific Tips</h3>
<p>MAMP pro:</p>
<p>In order for MAMP to work well with the symlinks created by the
<a href="https://github.com/platformsh/platformsh-cli" target="_blank">Platform.sh CLI</a>, add the
following to the section under Hosts &gt; Advanced called &#x201C;Customized
virtual host general settings.&#x201D; For more details visit <a href="http://documentation.mamp.info/en/documentation/mamp/" target="_blank">MAMP Pro
documentation
page</a>.</p>
<p>``` {.sourceCode .console}</p>
<p><Directory>
        Options FollowSymLinks
        AllowOverride All
</Directory>
```</p>
<blockquote>
<p><a href="http://forumsarchive.laravel.io/viewtopic.php?pid=11232#p11232" target="_blank">Laravel Forum
Archives</a></p>
<p><strong>note</strong></p>
<p>When you specify your document root, MAMP will follow the symlink and
substitute the actual build folder path. This means that when you
rebuild your project locally, you will need to repoint the docroot to
the symlink again so it will refresh the build path.</p>
</blockquote>
<p>last update: |today|</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../use-platform/backup-and-restore.html" class="navigation navigation-prev " aria-label="Previous page: restore"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../use-platform/going-live.html" class="navigation navigation-next " aria-label="Next page: live"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
