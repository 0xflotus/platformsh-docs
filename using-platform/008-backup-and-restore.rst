
backup and restore 
==================

backup
------

manual backup
^^^^^^^^^^^^^

backup using the web UI

backup your live site

before merging a sprint environment into the live environment, make a backup of the live site. 


backup using a CLI

backup your local database using drush sql-dump.

.. code-block:: console

   $ drush sql-dump @platform.local > backup_database.sql



backup policy of Platform standard
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Currently backups need to be generated by the developer by clicking the backup button in your Platform UI.

A daily EBS backup is generated automatically, but it's not as reliable as the snapshots that will be created if you back up your work. I suggest you do that for now.

Our backup policy is being refined and revised and I can let you know when we make those changes.

If you increase the storage space of your services, take a backup soon after. If we restore from an old backup, you get the size of that old backup. 

backup policy of Platform enterprise
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Platform Enterprise has a different backup scheme.

We run a full daily backup around 2AM CET (MySQL dump, archive of the code and files).
We keep those daily backups for a month.

In parallel we run EBS snapshots every four hours. 
We keep those snapshots for seven days.


restore from backup
^^^^^^^^^^^^^^^^^^^

Commerce Guys restore from backup for you. Request a restore by opening a ticket. 


